<div id="block" style="width: 100px; height: 100px; border-radius: 50%; background-color: red;">
    click me, i will run!
</div>
<script>
    let block = document.getElementById('block')
    block.addEventListener('click', function() { // 此处不可用箭头函数，会绑定this为全局this
        console.log('trigger me moving!')
        let self = this
        let startTime = Date.now()
        let r = 100, T = 2000
        
        requestAnimationFrame(function step() {
            let p = Math.min(1.0, (Date.now() - startTime) / T)
            let tx = -r * Math.sin(2 * Math.PI * p)
            let ty = -r * Math.cos(2 * Math.PI * p)

            self.style.transform = `translate(${tx}px, ${ty}px)`
            if (p < 1.0) requestAnimationFrame(step)
        })
    }, false)
</script>
